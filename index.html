<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <title>Оверлей для стрима</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: transparent;
            color: white;
            margin: 0;
            overflow: hidden;
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            width: 100%;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.0);
            box-sizing: border-box;
        }
        .banner {
			font-family: "Montserrat", serif;
			font-size: 32px;
			font-weight: bold;
			font-style: normal;
			-webkit-text-stroke: 0px rgba(0,0,0,1);
			text-shadow: rgb(0, 0, 0) 3px 0px 0px, rgb(0, 0, 0) 2.83487px 0.981584px 0px, rgb(0, 0, 0) 2.35766px 1.85511px 0px, rgb(0, 0, 0) 1.62091px 2.52441px 0px, rgb(0, 0, 0) 0.705713px 2.91581px 0px, rgb(0, 0, 0) -0.287171px 2.98622px 0px, rgb(0, 0, 0) -1.24844px 2.72789px 0px, rgb(0, 0, 0) -2.07227px 2.16926px 0px, rgb(0, 0, 0) -2.66798px 1.37182px 0px, rgb(0, 0, 0) -2.96998px 0.42336px 0px, rgb(0, 0, 0) -2.94502px -0.571704px 0px, rgb(0, 0, 0) -2.59586px -1.50383px 0px, rgb(0, 0, 0) -1.96093px -2.27041px 0px, rgb(0, 0, 0) -1.11013px -2.78704px 0px, rgb(0, 0, 0) -0.137119px -2.99686px 0px, rgb(0, 0, 0) 0.850987px -2.87677px 0px, rgb(0, 0, 0) 1.74541px -2.43999px 0px, rgb(0, 0, 0) 2.44769px -1.73459px 0px, rgb(0, 0, 0) 2.88051px -0.838247px 0px;
			padding: 15px;
			color: #c966d5;
			min-width: 30%;
			height: auto;
            margin: 0 20px;
            text-align: center;
			display: flex;
			align-items: center;
			justify-content: flex-start;
			background-image: url("name.png");
			background-size: 100% 100%;
			background-repeat: no-repeat;
			
        }
		#banner2{
			transform: scaleX(-1);
		}
		
		#player2Name, #player2Score{
			transform: scaleX(-1);
		}
		
		#player1Score, #player2Score{
			margin: 0 35px;
			font-size: 36px;
		}
		#player1Name, #player2Name{
			margin: 0 30px;
		}
		
        .controls {
            position: absolute;
            bottom: 25%;
            left: 50%;
            transform: translateX(-50%) scale(2);
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }
        input[type="range"] {
            width: 150px;
        }
        input, select, button {
            margin: 5px;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #555;
        }
        button {
            background-color: #555;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #777;
        }
		
	
    </style>
</head>
<body>

<div class="overlay">
    <div class="banner" id="banner1">
		<div id="player1Score">0</div>
        <div id="player1Name">Игрок1</div>
    </div>
    <div class="banner" id="banner2">
		<div id="player2Score">0</div>
        <div id="player2Name">Игрок2</div>
    </div>
</div>

<div class="controls">
    <label for="distance">Расстояние от центра:</label>
    <input type="range" id="distance" min="0" max="500" value="0" oninput="updateDistance(this.value)">

    <div class="player">
	<select id="player1List" class="mySelect">
        <option value="Игрок A">Игрок A</option>
        <option value="Игрок B">Игрок B</option>
        <option value="Игрок C">Игрок C</option>
        <option value="Игрок D">Игрок D</option>
    </select>
	<!-- <input type="text" id="player1Input" placeholder="Игрок 1"> -->
	<input type="number" id="score1Input" placeholder="Счет 1" min="0">
    </div>
	<div class="player">
	<!-- <input type="text" id="player2Input" placeholder="Игрок 2"> -->
	<select id="player2List" class="mySelect">
        <option value="Игрок A">Игрок A</option>
        <option value="Игрок B">Игрок B</option>
        <option value="Игрок C">Игрок C</option>
        <option value="Игрок D">Игрок D</option>
    </select>
    <input type="number" id="score2Input" placeholder="Счет 2" min="0">
	</div>
    <button onclick="updateNamesAndScores()">Обновить имена и счет</button>
    

    <button onclick="swapPlayers()">Поменять местами</button>
</div>

<script>
    function updateDistance(value) {
        const banners = document.querySelectorAll('.banner');
        banners.forEach(banner => {
            banner.style.margin = `0 ${value}px`;
        });
    }

    function updateNamesAndScores() {
        const player1Name = document.getElementById('player1List').value;
        const player2Name = document.getElementById('player2List').value;
        const score1 = document.getElementById('score1Input').value;
        const score2 = document.getElementById('score2Input').value;

        if (player1Name) document.getElementById('player1Name').innerText = player1Name;
        if (player2Name) document.getElementById('player2Name').innerText = player2Name;
        if (score1) document.getElementById('player1Score').innerText = score1;
        if (score2) document.getElementById('player2Score').innerText = score2;
    }

    function swapPlayers() {
        const player1Name = document.getElementById('player1Name');
        const player2Name = document.getElementById('player2Name');
		const player1NameL = document.getElementById('player1List');
        const player2NameL = document.getElementById('player2List');
        const player1Score = document.getElementById('player1Score');
        const player2Score = document.getElementById('player2Score');
		const player1ScoreI = document.getElementById('score1Input');
        const player2ScoreI = document.getElementById('score2Input');

        const tempName = player1Name.innerText;
        const tempScore = player1Score.innerText;
		const tempList = player1NameL.value;
		const tempScoreI = player1ScoreI.value;

        player1Name.innerText = player2Name.innerText;
        player1Score.innerText = player2Score.innerText;
		player1NameL.value = player2NameL.value;
		player1ScoreI.value = player2ScoreI.value;

        player2Name.innerText = tempName;
        player2Score.innerText = tempScore;
		player2NameL.value = tempList
		player2ScoreI.value = tempScoreI;
    }
	
	
    fetch('http://localhost:8080/overlay/data.txt')  // Замените на путь к вашему файлу
        .then(response => {
            if (!response.ok) {
                throw new Error('Сетевой запрос не удался');
            }
            return response.text();  // Читаем файл как текст
        })
        .then(data => {
            const lines = data.split('\n');  // Разделяем файл по строкам

            // Находим все элементы select с классом mySelect
            const selectElements = document.querySelectorAll('.mySelect');

            selectElements.forEach(select => {
                // Для каждого select очищаем старые опции
                select.innerHTML = '';

                // Добавляем пустую опцию (если нужно)
                const defaultOption = document.createElement('option');
                defaultOption.textContent = 'Выберите значение';
                defaultOption.value = '';
                select.appendChild(defaultOption);

                // Для каждой строки из файла создаем новую опцию
                lines.forEach(line => {
                    if (line.trim()) {  // Если строка не пустая
                        const option = document.createElement('option');
                        option.textContent = line.trim();
                        option.value = line.trim();
                        select.appendChild(option);
                    }
                });
            });
        })
        .catch(error => {
            console.error('Ошибка загрузки данных:', error);
        });
	
</script>

</body>
</html>